{"ast":null,"code":"import { jwtDecode } from 'jwt-decode';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./header-customer.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"ngx-toastr\";\nimport * as i4 from \"../homepage/products/products.service\";\nimport * as i5 from \"./shopping-cart/Shopping.service\";\nimport * as i6 from \"../customer/CartCustomer.service\";\nexport class HeaderCustomerComponent {\n  constructor(homepageCustomerService, route, router, toastr, addProductService, shoppingService, cartService) {\n    this.homepageCustomerService = homepageCustomerService;\n    this.route = route;\n    this.router = router;\n    this.toastr = toastr;\n    this.addProductService = addProductService;\n    this.shoppingService = shoppingService;\n    this.cartService = cartService;\n    this.totalItemsInCart = 0;\n    this.customerData = [];\n    this.Products = [];\n    this.CartItems = [];\n    this.CheckNoData = 'No Orders Found';\n  }\n  ngOnInit() {\n    this.getCustomerCart();\n    this.homepageCustomerService.getCartLength().subscribe(length => {\n      this.numberOfCartItems = length;\n    });\n    this.token = localStorage.getItem('token') || 'Looks Like there is an error with authintication';\n    this.decodedToken = jwtDecode(this.token);\n    this.name = this.decodedToken['http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name'];\n  }\n  goToCart() {\n    this.router.navigateByUrl('/CustomerCart');\n  }\n  getTotalItemsInCart() {\n    return this.CartItems.length;\n  }\n  getCustomerCart() {\n    this.shoppingService.getCustomerCarts().subscribe({\n      next: data => {\n        this.CartItems = data;\n        this.totalItemsInCart = this.CartItems.length;\n      },\n      error: error => {\n        this.toastr.error('Error Fetching Cart', 'Error');\n      }\n    });\n  }\n  static #_ = this.ɵfac = function HeaderCustomerComponent_Factory(t) {\n    return new (t || HeaderCustomerComponent)(i0.ɵɵdirectiveInject(i1.headerCustomerServices), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.ToastrService), i0.ɵɵdirectiveInject(i4.productService), i0.ɵɵdirectiveInject(i5.ShoppingServices), i0.ɵɵdirectiveInject(i6.CartCustomerService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: HeaderCustomerComponent,\n    selectors: [[\"app-header-customer\"]],\n    decls: 15,\n    vars: 2,\n    consts: [[1, \"navbar\", \"navbar-expand-lg\", \"navbar-light\", \"text-bg-light\"], [1, \"container-fluid\"], [1, \"navbar-brand\"], [\"type\", \"button\", \"data-bs-toggle\", \"collapse\", \"data-bs-target\", \"#navbarNav\", \"aria-controls\", \"navbarNav\", \"aria-expanded\", \"false\", \"aria-label\", \"Toggle navigation\", 1, \"navbar-toggler\"], [1, \"navbar-toggler-icon\"], [\"id\", \"navbarNav\", 1, \"collapse\", \"navbar-collapse\"], [1, \"nav\", \"navbar-nav\"], [\"routerLinkActive\", \"active\"], [\"routerLink\", \"/CustomerOrders\", 1, \"navbar-item\"], [1, \"btn\", \"btn-info\", 3, \"click\"], [1, \"badge\", \"badge-light\"]],\n    template: function HeaderCustomerComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"nav\", 0)(1, \"div\", 1)(2, \"a\", 2);\n        i0.ɵɵtext(3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"button\", 3);\n        i0.ɵɵelement(5, \"span\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"div\", 5)(7, \"ul\", 6)(8, \"li\", 7)(9, \"a\", 8);\n        i0.ɵɵtext(10, \"View Orders\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(11, \"button\", 9);\n        i0.ɵɵlistener(\"click\", function HeaderCustomerComponent_Template_button_click_11_listener() {\n          return ctx.goToCart();\n        });\n        i0.ɵɵtext(12, \" Cart Items \");\n        i0.ɵɵelementStart(13, \"span\", 10);\n        i0.ɵɵtext(14);\n        i0.ɵɵelementEnd()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\"Welcome \", ctx.name, \"\");\n        i0.ɵɵadvance(11);\n        i0.ɵɵtextInterpolate(ctx.numberOfCartItems);\n      }\n    },\n    dependencies: [i2.RouterLink, i2.RouterLinkActive],\n    styles: [\".col-3[_ngcontent-%COMP%] {\\n   position: fixed;\\n   top: 50x; \\n   bottom: 0;\\n   left: 0;\\n   width: 250px;\\n   background-color: #f8f9fa; \\n }\\n .navbar-item[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: flex-end;\\n  margin-left: 60px;\\n}\\n .navbar[_ngcontent-%COMP%] {\\n   position: fixed;\\n   top: 0;\\n   left: 0;\\n   bottom: auto ;\\n   width: 100%;\\n   z-index: 1000; \\n   font-size: 16px;\\n  \\n}\\n\\n\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvaGVhZGVyLWN1c3RvbWVyL2hlYWRlci1jdXN0b21lci5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0dBQ0csZUFBZTtHQUNmLFFBQVE7R0FDUixTQUFTO0dBQ1QsT0FBTztHQUNQLFlBQVk7R0FDWix5QkFBeUI7Q0FDM0I7Q0FDQTtFQUNDLGFBQWE7RUFDYix5QkFBeUI7RUFDekIsaUJBQWlCO0FBQ25CO0NBQ0M7R0FDRSxlQUFlO0dBQ2YsTUFBTTtHQUNOLE9BQU87R0FDUCxhQUFhO0dBQ2IsV0FBVztHQUNYLGFBQWE7R0FDYixlQUFlOztBQUVsQiIsInNvdXJjZXNDb250ZW50IjpbIi5jb2wtMyB7XHJcbiAgIHBvc2l0aW9uOiBmaXhlZDtcclxuICAgdG9wOiA1MHg7IFxyXG4gICBib3R0b206IDA7XHJcbiAgIGxlZnQ6IDA7XHJcbiAgIHdpZHRoOiAyNTBweDtcclxuICAgYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjlmYTsgXHJcbiB9XHJcbiAubmF2YmFyLWl0ZW0ge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcclxuICBtYXJnaW4tbGVmdDogNjBweDtcclxufVxyXG4gLm5hdmJhciB7XHJcbiAgIHBvc2l0aW9uOiBmaXhlZDtcclxuICAgdG9wOiAwO1xyXG4gICBsZWZ0OiAwO1xyXG4gICBib3R0b206IGF1dG8gO1xyXG4gICB3aWR0aDogMTAwJTtcclxuICAgei1pbmRleDogMTAwMDsgXHJcbiAgIGZvbnQtc2l6ZTogMTZweDtcclxuICBcclxufVxyXG5cclxuXHJcbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n  });\n}","map":{"version":3,"names":["jwtDecode","HeaderCustomerComponent","constructor","homepageCustomerService","route","router","toastr","addProductService","shoppingService","cartService","totalItemsInCart","customerData","Products","CartItems","CheckNoData","ngOnInit","getCustomerCart","getCartLength","subscribe","length","numberOfCartItems","token","localStorage","getItem","decodedToken","name","goToCart","navigateByUrl","getTotalItemsInCart","getCustomerCarts","next","data","error","_","i0","ɵɵdirectiveInject","i1","headerCustomerServices","i2","ActivatedRoute","Router","i3","ToastrService","i4","productService","i5","ShoppingServices","i6","CartCustomerService","_2","selectors","decls","vars","consts","template","HeaderCustomerComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵlistener","HeaderCustomerComponent_Template_button_click_11_listener","ɵɵadvance","ɵɵtextInterpolate1","ɵɵtextInterpolate"],"sources":["D:\\Angular\\CenterApp\\src\\app\\header-customer\\header-customer.component.ts","D:\\Angular\\CenterApp\\src\\app\\header-customer\\header-customer.component.html"],"sourcesContent":["import { Component, Input, OnInit } from '@angular/core';\nimport { jwtDecode } from 'jwt-decode';\nimport { headerCustomerServices } from './header-customer.service';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { productService } from '../homepage/products/products.service';\nimport { ToastrService } from 'ngx-toastr';\nimport { ShoppingServices } from './shopping-cart/Shopping.service';\nimport { Subscription } from 'rxjs';\nimport { CartCustomerService } from '../customer/CartCustomer.service';\nimport { SideBarComponent } from './side-bar/side-bar.component';\n@Component({\n  selector: 'app-header-customer',\n  templateUrl: './header-customer.component.html',\n  styleUrls: ['./header-customer.component.css'],\n})\nexport class HeaderCustomerComponent implements OnInit {\n  name!: string;\n  cartSubscription: Subscription | undefined;\n  totalItemsInCart: number = 0;\n  token!: string;\n  decodedToken!: any;\n  customerData: any = [];\n  Products: any[] = [];\n  CartItems: any[] = [];\n  CheckNoData = 'No Orders Found';\n  numberOfCartItems!:number\n  constructor(\n    private homepageCustomerService: headerCustomerServices,\n    private route: ActivatedRoute,\n    private router: Router,\n    private toastr: ToastrService,\n    private addProductService: productService,\n    private shoppingService: ShoppingServices,\n    private cartService: CartCustomerService,\n\n  ) {}\n  ngOnInit() {\n    this.getCustomerCart();\n    this.homepageCustomerService.getCartLength().subscribe(length => {\n      this.numberOfCartItems = length;\n    });\n    this.token =\n      localStorage.getItem('token') ||\n      'Looks Like there is an error with authintication';\n    this.decodedToken = jwtDecode(this.token);\n    this.name =\n      this.decodedToken[\n        'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name'\n      ];\n  }\n  goToCart(){\n    this.router.navigateByUrl('/CustomerCart')\n  }\n  getTotalItemsInCart(): number {\n    return this.CartItems.length;\n  }\n  getCustomerCart(): void {\n    this.shoppingService.getCustomerCarts().subscribe({\n      next: (data: any[]) => {\n        this.CartItems = data;\n        this.totalItemsInCart = this.CartItems.length;\n      },\n      error: (error) => {\n        this.toastr.error('Error Fetching Cart', 'Error');\n      },\n    });\n  }\n}\n","<nav class=\"navbar navbar-expand-lg navbar-light text-bg-light\">\n  <div class=\"container-fluid\">\n    <a class=\"navbar-brand\">Welcome {{ name }}</a>\n\n    <button\n      class=\"navbar-toggler\"\n      type=\"button\"\n      data-bs-toggle=\"collapse\"\n      data-bs-target=\"#navbarNav\"\n      aria-controls=\"navbarNav\"\n      aria-expanded=\"false\"\n      aria-label=\"Toggle navigation\"\n    >\n      <span class=\"navbar-toggler-icon\"></span>\n    </button>\n    <div class=\"collapse navbar-collapse\" id=\"navbarNav\">\n      <ul class=\"nav navbar-nav\">\n        <li routerLinkActive=\"active\">\n          <a routerLink=\"/CustomerOrders\" class=\"navbar-item\">View Orders</a>\n        </li>\n      </ul>\n    </div>\n    <button class=\"btn btn-info\" (click)=\"goToCart()\">\n      Cart Items <span class=\"badge badge-light\">{{ numberOfCartItems }}</span>\n    </button>\n  </div>\n  \n</nav>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}