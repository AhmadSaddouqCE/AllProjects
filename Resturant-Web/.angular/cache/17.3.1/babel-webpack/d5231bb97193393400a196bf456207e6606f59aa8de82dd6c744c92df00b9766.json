{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport { jwtDecode } from 'jwt-decode';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"./customer.login.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nfunction CustomerLoginComponent_p_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 18);\n    i0.ɵɵtext(1, \" Fill All The Fields! \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngClass\", !ctx_r0.showAlert ? \"text-success pb-1\" : \"text-danger pb-1\");\n  }\n}\nexport class CustomerLoginComponent {\n  constructor(fb, service, router, currentRoute) {\n    this.fb = fb;\n    this.service = service;\n    this.router = router;\n    this.currentRoute = currentRoute;\n    this.Message = '';\n    this.isAccountCreated = false;\n    this.alert = '';\n    this.showAlert = false;\n    this.form = this.fb.group({\n      name: [null, [Validators.required], []],\n      password: [null, [Validators.required], []]\n    });\n  }\n  ngOnInit() {\n    localStorage.clear();\n  }\n  loginCustomer() {\n    console.log(123);\n    if (this.form.invalid) {\n      this.showAlert = true;\n      this.Message = '';\n      return;\n    }\n    this.service.LoginCustomers([this.form.value.name, this.form.value.password]).subscribe({\n      next: res => {\n        const responseObj = JSON.parse(res);\n        const token = responseObj.token;\n        if (responseObj.status === 200) {\n          this.Message = 'Welcome To Your Dashboard!';\n          this.isAccountCreated = true;\n          this.service.setMessage('Welcome to your dashboard!');\n          const decodedToken = jwtDecode(token);\n          localStorage.setItem('token', token);\n          localStorage.setItem('Customer', 'true');\n          this.router.navigateByUrl('/Dashboard');\n        }\n      },\n      error: error => {\n        if (error.status === 500 || error.error.includes('Wrong Credentials, Try Again.')) {\n          this.Message = 'Wrong Credintials, Try Again.';\n          this.showAlert = false;\n          this.isAccountCreated = false;\n        }\n      }\n    });\n  }\n  static #_ = this.ɵfac = function CustomerLoginComponent_Factory(t) {\n    return new (t || CustomerLoginComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.customerLoginServices), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i3.ActivatedRoute));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CustomerLoginComponent,\n    selectors: [[\"app-customer-login\"]],\n    decls: 29,\n    vars: 4,\n    consts: [[\"lang\", \"en\"], [\"charset\", \"utf-8\"], [\"name\", \"viewport\", \"content\", \"width=device-width, initial-scale=1\"], [\"rel\", \"stylesheet\"], [1, \"container\"], [1, \"row\", \"d-flex\", \"justify-content-center\", \"align-items-center\", \"vh-100\"], [1, \"login-form\", 3, \"ngSubmit\", \"formGroup\"], [1, \"form-group\"], [\"for\", \"name\"], [\"type\", \"text\", \"placeholder\", \"Enter your name\", \"formControlName\", \"name\", 1, \"form-control\"], [\"for\", \"Password\"], [\"type\", \"password\", \"placeholder\", \"Enter your password\", \"formControlName\", \"password\", 1, \"form-control\"], [1, \"d-flex\", \"justify-content-center\", \"align-items-center\"], [\"type\", \"submit\", 1, \"btn\", \"w-25\"], [1, \"d-flex\", \"justify-content-start\", \"align-items-start\", \"mt-2\"], [\"routerLink\", \"/Customer-SignUp\"], [1, \"d-flex\", \"justify-content-center\", \"align-content-center\", 2, \"color\", \"red\"], [\"class\", \"text-center fs-3\", 3, \"ngClass\", 4, \"ngIf\"], [1, \"text-center\", \"fs-3\", 3, \"ngClass\"]],\n    template: function CustomerLoginComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"html\", 0)(1, \"head\");\n        i0.ɵɵelement(2, \"meta\", 1)(3, \"meta\", 2)(4, \"link\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"body\")(6, \"div\", 4)(7, \"div\", 5)(8, \"form\", 6);\n        i0.ɵɵlistener(\"ngSubmit\", function CustomerLoginComponent_Template_form_ngSubmit_8_listener() {\n          return ctx.loginCustomer();\n        });\n        i0.ɵɵelementStart(9, \"div\", 7)(10, \"label\", 8);\n        i0.ɵɵtext(11, \"Name:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(12, \"input\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"div\", 7)(14, \"label\", 10);\n        i0.ɵɵtext(15, \"Password:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(16, \"input\", 11);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"div\", 12)(18, \"button\", 13);\n        i0.ɵɵtext(19, \"Login\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(20, \"div\", 14)(21, \"a\", 15);\n        i0.ɵɵtext(22, \"Don't Have An Account? \");\n        i0.ɵɵelementStart(23, \"strong\");\n        i0.ɵɵtext(24, \"Sign Up\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(25, \"div\", 16);\n        i0.ɵɵtemplate(26, CustomerLoginComponent_p_26_Template, 2, 1, \"p\", 17);\n        i0.ɵɵelementStart(27, \"p\", 18);\n        i0.ɵɵtext(28);\n        i0.ɵɵelementEnd()()()()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"formGroup\", ctx.form);\n        i0.ɵɵadvance(18);\n        i0.ɵɵproperty(\"ngIf\", ctx.showAlert);\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"ngClass\", ctx.isAccountCreated ? \"text-success pb-1\" : \"text-danger pb-1\");\n        i0.ɵɵadvance();\n        i0.ɵɵtextInterpolate1(\" \", ctx.Message, \" \");\n      }\n    },\n    dependencies: [i4.NgClass, i4.NgIf, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName, i3.RouterLink],\n    styles: [\"\\n (()[_ngcontent-%COMP%]   =[_ngcontent-%COMP%] >  { // webpackBootstrap\\n\\n \\t\\\"use strict\\\";\\n\\n \\t\\n\\n \\t\\n\\n })()[_ngcontent-%COMP%]\\n;\"]\n  });\n}","map":{"version":3,"names":["Validators","jwtDecode","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","ctx_r0","showAlert","CustomerLoginComponent","constructor","fb","service","router","currentRoute","Message","isAccountCreated","alert","form","group","name","required","password","ngOnInit","localStorage","clear","loginCustomer","console","log","invalid","LoginCustomers","value","subscribe","next","res","responseObj","JSON","parse","token","status","setMessage","decodedToken","setItem","navigateByUrl","error","includes","_","ɵɵdirectiveInject","i1","FormBuilder","i2","customerLoginServices","i3","Router","ActivatedRoute","_2","selectors","decls","vars","consts","template","CustomerLoginComponent_Template","rf","ctx","ɵɵelement","ɵɵlistener","CustomerLoginComponent_Template_form_ngSubmit_8_listener","ɵɵtemplate","CustomerLoginComponent_p_26_Template","ɵɵadvance","ɵɵtextInterpolate1"],"sources":["D:\\Angular\\CenterApp\\src\\app\\customer\\customer-login\\customer-login.component.ts","D:\\Angular\\CenterApp\\src\\app\\customer\\customer-login\\customer-login.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { customerLoginServices } from './customer.login.service';\nimport { jwtDecode } from 'jwt-decode';\n\n@Component({\n  selector: 'app-customer-login',\n  templateUrl: './customer-login.component.html',\n  styleUrls: ['./customer-login.component.css'],\n})\nexport class CustomerLoginComponent implements OnInit {\n  form!: FormGroup;\n  Message = '';\n  isAccountCreated: boolean = false;\n  alert = '';\n  showAlert: boolean = false;\n\n  constructor(\n    private fb: FormBuilder,\n    private service: customerLoginServices,\n    private router: Router,\n    private currentRoute: ActivatedRoute\n  ) {\n    this.form = this.fb.group({\n      name: [null, [Validators.required], []],\n      password: [null, [Validators.required], []],\n    });\n  }\n  ngOnInit() {\n    localStorage.clear();\n  }\n\n  loginCustomer() {\n    console.log(123)\n    if (this.form.invalid) {\n      this.showAlert = true;\n      this.Message = '';\n      return;\n    }\n    this.service\n      .LoginCustomers([this.form.value.name, this.form.value.password])\n      .subscribe({\n        next: (res) => {\n          const responseObj = JSON.parse(res);\n          const token = responseObj.token;\n          if (responseObj.status === 200) {\n            this.Message = 'Welcome To Your Dashboard!';\n            this.isAccountCreated = true;\n            this.service.setMessage('Welcome to your dashboard!');\n            const decodedToken: any = jwtDecode(token);\n            localStorage.setItem('token', token);\n            localStorage.setItem('Customer', 'true');\n            this.router.navigateByUrl('/Dashboard');\n          }\n        },\n        error: (error) => {\n          if (\n            error.status === 500 ||\n            error.error.includes('Wrong Credentials, Try Again.')\n          ) {\n            this.Message = 'Wrong Credintials, Try Again.';\n            this.showAlert = false;\n            this.isAccountCreated = false;\n          }\n        },\n      });\n  }\n}\n","<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"utf-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n    <link rel=\"stylesheet\" />\n  </head>\n  <body>\n    <div class=\"container\">\n      <div class=\"row d-flex justify-content-center align-items-center vh-100\">\n        <form\n          [formGroup]=\"form\"\n          (ngSubmit)=\"loginCustomer()\"\n          class=\"login-form\"\n        >\n          <div class=\"form-group\">\n            <label for=\"name\">Name:</label>\n            <input\n              type=\"text\"\n              placeholder=\"Enter your name\"\n              class=\"form-control\"\n              formControlName=\"name\"\n            />\n          </div>\n          <div class=\"form-group\">\n            <label for=\"Password\">Password:</label>\n            <input\n              type=\"password\"\n              placeholder=\"Enter your password\"\n              class=\"form-control\"\n              formControlName=\"password\"\n            />\n          </div>\n\n          <div class=\"d-flex justify-content-center align-items-center\">\n            <button type=\"submit\" class=\"btn w-25\">Login</button>\n          </div>\n          <div class=\"d-flex justify-content-start align-items-start mt-2\">\n            <a routerLink=\"/Customer-SignUp\"\n              >Don't Have An Account? <strong>Sign Up</strong></a\n            >\n          </div>\n          <div\n            class=\"d-flex justify-content-center align-content-center\"\n            style=\"color: red\"\n          >\n            <p\n              *ngIf=\"showAlert\"\n              class=\"text-center fs-3\"\n              [ngClass]=\"!showAlert ? 'text-success pb-1' : 'text-danger pb-1'\"\n            >\n              Fill All The Fields!\n            </p>\n            <p\n              class=\"text-center fs-3\"\n              [ngClass]=\"\n                isAccountCreated ? 'text-success pb-1' : 'text-danger pb-1'\n              \"\n            >\n              {{ Message }}\n            </p>\n          </div>\n        </form>\n      </div>\n    </div>\n  </body>\n</html>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}